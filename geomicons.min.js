var iconUrl="geomicons.svg",icons=document.getElementsByClassName("geomicon"),xmlHttp=null,injectSvg,sprite;xmlHttp=new XMLHttpRequest,xmlHttp.open("GET",iconUrl,!1),xmlHttp.send(null),xmlHttp.responseXML?sprite=xmlHttp.responseXML.documentElement:console.error("Geomicon sprite not found - check iconUrl variable."),injectSvg=function(e,t){t.setAttribute("class",e.className),e.parentNode.replaceChild(t,e)};for(var i=0;i<icons.length;i++){var icon=icons[i],id=icon.getAttribute("data-id"),svg=sprite.getElementById(id);svg?(svg=svg.cloneNode(!0),svg.id=id+"-"+i,icon.className+=" geomicon-"+id,injectSvg(icon,svg)):console.error(id+" not found")}